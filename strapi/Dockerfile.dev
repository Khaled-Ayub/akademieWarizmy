# ===========================================
# WARIZMY EDUCATION - Strapi Dockerfile (Entwicklung)
# ===========================================

FROM node:20-alpine

# Arbeitsverzeichnis setzen
WORKDIR /opt/app

# System-Dependencies
RUN apk add --no-cache build-base gcc autoconf automake zlib-dev libpng-dev vips-dev

# Package Files kopieren
COPY package*.json ./

# Dependencies installieren
RUN npm install

# Anwendungscode kopieren
COPY . .

# Port freigeben
EXPOSE 1337

# Strapi im Entwicklungsmodus starten
CMD ["npm", "run", "develop"]

